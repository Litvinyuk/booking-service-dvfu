{% extends "base.html" %}

{% block title %}Бронирование пространства | DVFU{% endblock %}

{% block content %}
    <!-- Основной контент -->
    <main class="booking-container">
        <div class="booking-header">
            <h1>{{ space.title }}</h1>
            <p>{{ space.location }}</p>
        </div>

        <div class="space-card">
            <div class="space-image">
                <img src="{{ url_for('static', filename='images/' + space.image) }}" alt="{{ space.title }}">
            </div>
            <div class="space-details">
                <h2 class="space-title">{{ space.title }}</h2>
                <div class="space-meta">
                    <span>Вместимость: {{ space.capacity }} человек</span>
                    <span>Тип: {{ space.type }}</span>
                </div>
                <div class="space-description">
                    <p>{{ space.description }}</p>
                </div>
            </div>
        </div>

        <!-- Занятые слоты -->
        <div class="booking-form">
            <h2 class="form-title">Занятые слоты</h2>
            {% if bookings %}
                <ul>
                    {% for booking in bookings %}
                        <li>{{ booking[0] }} — {{ booking[1] }}–{{ booking[2] }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>На ближайшие дни свободно.</p>
            {% endif %}
        </div>

        <!-- Форма -->
        <div class="booking-form">
            <h2 class="form-title">Забронировать пространство</h2>
            <form method="POST">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="date">Дата</label>
                        <input type="date" id="date" name="date" required>
                    </div>
                    <div class="form-group">
                        <label for="start-time">Время начала</label>
                        <input type="time" id="start-time" name="start_time" required>
                    </div>
                    <div class="form-group">
                        <label for="end-time">Время окончания</label>
                        <input type="time" id="end-time" name="end_time" required>
                    </div>
                </div>
                <button type="submit" class="submit-btn">Забронировать</button>
            </form>
        </div>
    </main>

{% include 'footer.html'%}
{% endblock %}